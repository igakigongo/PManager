@model IQueryable<PManager.Domain.Entities.Vehicle>

@{
    ViewBag.Title = "Vehicles";
    string userrole = Roles.GetRolesForUser(WebSecurity.CurrentUserName)[0];
    if (userrole == "Manager")
    {
        Layout = "~/Views/Shared/_LayoutManager.cshtml";
    }
    else if (userrole == "Admin")
    {
        Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_LayoutNormal.cshtml";
    }
}

<link href="~/Content/sb-admin-v2/css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet" />

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                @if (userrole == "Admin")
                {
                    @String.Format("Administrator ")
                } 
                else if (userrole == "Manager")
                {
                    @String.Format("Manager ")
                }
                else
                {
                    @String.Format("Normal")
                }- Dashboard
            </h1>
        </div>
    </div>
    <div class="row">
        @if (userrole == "Admin")
        {
            <div class="col-lg-12">
                <div class="padding-bottom-20">
                    <a href='@Url.Action("CreateVehicle")' class="btn btn-primary">Register New Vehicle</a>
                </div>
            </div>
        }
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-gears fa-fw"></i>     Vehicles
                </div>
                <div class="panel-body">
                    
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                            <thead>
                                <tr><th>Car Id</th><th>Car Type</th><th>Plate Number</th>
                                    @if (userrole == "Admin" || userrole == "Manager")
                                    {
                                        <th></th>
                                    }
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var v in Model)
                                {
                                    <tr>
                                        <td>@v.Id</td>
                                        <td>@v.CarType</td>
                                        <td>@v.NumberPlate</td>
                                        @if (userrole == "Manager")
                                        {
                                            
                                        }else if (userrole == "Admin")
                                        {

                                        }
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <!-- Page-Level Plugin Scripts - Tables -->
    <script src="~/Content/sb-admin-v2/js/plugins/dataTables/jquery.dataTables.js"></script>
    <script src="~/Content/sb-admin-v2/js/plugins/dataTables/dataTables.bootstrap.js"></script>

    <script>
        $(document).ready(function () {
            $('#dataTables-example').dataTable();
        });
    </script>
}


